## 实验5

> 1. 将第5课讲稿中的所有例子代码编写、编译、调试、运行，**只需要**把运行结果粘贴到实验报告中；

> 2. 进程能打开的最大文件数（即getdtablesize()的值）是多少？

> 3. 验证syslog_daemon.c程序中LOG_ERR错误的chdir和open两种情况，并查看系统日志文件中是否记录了错误。

> 4. 编写守护进程程序，掌握守护进程编写和调试的方法，并且进一步熟悉如何编写多进程程序，要求：
>
> ```c
> 1)首先建立起一个守护进程；
> 2)然后在该守护进程中新建一个子进程，该子进程暂停10s后自动退出；
> 3)子进程在暂停10秒前，发送信息“Child will sleep for 10s”给系统日志文件（/var/log/messages），暂停10秒后退出前，再发送信息“Child is going to exit”给系统日志文件；（可以将发送给系统日志的信息级别设置为LOG_INFO）
> 4)守护进程检测到子进程退出后，发送消息“Daemon noticed that child has exited”给系统日志文件（/var/log/messages）；
> 5)子进程退出后，守护进程每隔10s 向日志文件/tmp/daemon.log写入“The current PID is : xxxxxx”，其中“xxxxx”为当前进程的PID值；
> 6)画出程序流程图，并将程序代码和实验结果截图放到实验报告中。
> ```

*

*

*

*

*

*

*

*

*

*

**

*

*

*

*

*

*

*

*

*

*

**

*

*

*

*

*

*

*

*

*

*

**

*

*

*

*

*

*

*

*

*

*

**

*

*

*

*

*

*

*

*

*

*

**

*

*

*

*

*

*

*

*

*

*

**

*

*

*

*

*

*

*

*

*

*

**

---

### 实验讲解





